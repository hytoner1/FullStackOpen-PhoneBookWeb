{"version":3,"sources":["components/Persons.js","components/Form_addNew.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDelete","console","log","name","number","onClick","Persons","persons","map","AddPerson","props","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","filter","exports","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","baseUrl","getAll","axios","get","create","newObject","post","update","id","put","deleteEntry","delete","App","useState","setPersons","notification","setNotification","errorNotification","setErrorNotification","setNewName","setNewNumber","setFilter","useEffect","personService","then","response","data","personsToShow","toLowerCase","includes","event","target","preventDefault","window","confirm","personObj","find","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"6KAEMA,EAAS,SAAC,GAA4B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,aAEvB,OADAC,QAAQC,IAAI,SAAUH,GAEpB,+BACGA,EAAOI,KADV,QAEUJ,EAAOK,OAFjB,QAGS,wBAAQC,QAAS,kBAAML,EAAaD,IAApC,wBAHAA,EAAOI,OAiBLG,EATC,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,QAASP,EAAkB,EAAlBA,aAEzB,OADAC,QAAQC,IAAI,UAAWK,GAErB,6BACGA,EAAQC,KAAI,SAAAT,GAAM,OAAI,cAAC,EAAD,CAAQA,OAAQA,EAA0BC,aAAcA,GAA3BD,EAAOI,YCElDM,EAjBG,SAACC,GACjB,IAAOC,EAAuED,EAAvEC,UAAWC,EAA4DF,EAA5DE,QAASC,EAAmDH,EAAnDG,iBAAkBC,EAAiCJ,EAAjCI,UAAWC,EAAsBL,EAAtBK,mBACxD,OACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOL,EAASM,SAAUL,OAEzC,yCACU,uBAAOI,MAAOH,EAAWI,SAAUH,OAE7C,8BACE,wBAAQI,KAAK,SAAb,uBCDOC,EAVA,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,OAAQH,EAAc,EAAdA,SACvB,OACE,+BACE,iDACgB,uBAAOD,MAAOI,EAAQH,SAAUA,UCyCvCI,EADC,CAAEC,aA5CG,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,GAAgB,OAAZA,EACF,OAAO,KAaT,OACE,qBAAKC,MAXmB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAId,SACGR,KA2ByBS,kBAtBN,SAAC,GAAe,IAAdT,EAAa,EAAbA,QAC1B,GAAgB,OAAZA,EACF,OAAO,KAaT,OACE,qBAAKC,MAXmB,CACxBC,MAAO,MACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAId,SACGR,M,gBCxCDU,EAAU,eAsBDZ,EADC,CAAEa,OAnBH,WACb,OAAOC,IAAMC,IAAIH,IAkBOI,OAfX,SAACC,GACd,OAAOH,IAAMI,KAAKN,EAASK,IAcKE,OAXnB,SAACF,GAEd,OADAtC,QAAQC,IAAI,WAAYqC,EAAUG,GAAIH,GAC/BH,IAAMO,IAAIT,EAAU,IAAMK,EAAUG,GAAIH,IASPK,YANtB,SAACF,GAEnB,OADAzC,QAAQC,IAAI,cAAewC,GACpBN,IACJS,OAAOX,EAAU,IAAMQ,KCmHbI,EA7HH,WAEV,MAA8BC,mBAAS,IAAvC,mBAAOxC,EAAP,KAAgByC,EAAhB,KACA,EAAwCD,mBAAS,MAAjD,mBAAOE,EAAP,KAAqBC,EAArB,KACA,EAAkDH,mBAAS,MAA3D,mBAAOI,EAAP,KAA0BC,EAA1B,KAEA,EAA8BL,mBAAS,IAAvC,mBAAOnC,EAAP,KAAgByC,EAAhB,KACA,EAAkCN,mBAAS,UAA3C,mBAAOjC,EAAP,KAAkBwC,EAAlB,KAEA,EAA4BP,mBAAS,IAArC,mBAAO1B,EAAP,KAAekC,EAAf,KAGAC,qBAAU,WACNvD,QAAQC,IAAI,UACZuD,EAActB,SACXuB,MAAK,SAAAC,GACJ1D,QAAQC,IAAI,qBACZ8C,EAAWW,EAASC,WAG1B,IAGF,IAkEMC,EAA2B,KAAXxC,EAClBd,EACAA,EAAQc,QAAO,SAAAtB,GAAM,OAAIA,EAAOI,KAAK2D,cAAcC,SAAS1C,EAAOyC,kBAiBvE,OACE,gCACE,2CACA,cAAC,EAAcvC,aAAf,CAA4BC,QAASyB,IACrC,cAAC,EAAchB,kBAAf,CAAiCT,QAAS2B,IAC1C,cAAC,EAAD,CAAQ9B,OAAQA,EAAQH,SA5BD,SAAC8C,GAC1BT,EAAUS,EAAMC,OAAOhD,UA6BrB,yCACA,cAAC,EAAD,CAAWN,UA7FG,SAACqD,GAIjB,GAHAA,EAAME,iBAGF3D,EAAQC,KAAI,SAAAT,GAAM,OAAIA,EAAOI,KAAK2D,iBAAeC,SAASnD,EAAQkD,eAAgB,CAEpF,IAAKK,OAAOC,QAAQ,IAAMxD,EACpB,0FAGJ,OAFAyC,EAAW,SACXC,EAAa,UAIf,IAAMe,EAAY9D,EAAQ+D,MAAK,SAAAvE,GAAM,OAAIA,EAAOI,KAAK2D,gBAAkBlD,EAAQkD,iBAC/EO,EAAUjE,OAASU,EAEnB2C,EACGhB,OAAO4B,GACPX,MAAK,SAAAC,GACJF,EAActB,SACXuB,MAAK,SAAAC,GACJX,EAAWW,EAASC,YAGzBW,OAAM,SAAAC,GACLpB,EACE,mBAAqBiB,EAAUlE,KAAO,0CAExCsD,EAActB,SACXuB,MAAK,SAAAC,GACJX,EAAWW,EAASC,SAExBa,YAAW,WACPrB,EAAqB,QACpB,YAGN,CACH,IAAMiB,EAAY,CAAClE,KAAMS,EAASR,OAAQU,GAC1C2C,EAAcnB,OAAO+B,GAClBX,MAAK,SAAAC,GACJX,EAAWzC,EAAQmE,OAAOf,EAASC,OACnCV,EAAgB,SAAWS,EAASC,KAAKzD,MACzCsE,YAAW,WACPvB,EAAgB,QACf,QAIXG,EAAW,IACXC,EAAa,WA2CsB1C,QAASA,EAASC,iBAvC9B,SAACmD,GACxBX,EAAWW,EAAMC,OAAOhD,QAsCiEH,UAAWA,EAAWC,mBAnCtF,SAACiD,GAC1BV,EAAaU,EAAMC,OAAOhD,UAoCxB,yCACA,cAAC,EAAD,CAASV,QAASsD,EAAe7D,aA1BhB,SAACD,GACpBE,QAAQC,IAAI,eAAgBH,GACvBoE,OAAOC,QAAQ,UAAYrE,EAAOI,KAAO,MAI9CsD,EAAcb,YAAY7C,EAAO2C,IAC9BgB,MAAK,SAAAC,GACJF,EAActB,SACXuB,MAAK,SAAAC,GACJX,EAAWW,EAASC,mB,MC5GhCe,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.4a7ae25d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({person, handleDelete}) => {\r\n  console.log('Person', person)\r\n  return (\r\n    <li key={person.name}>\r\n      {person.name}\r\n      &nbsp; {person.number}\r\n      &nbsp; <button onClick={() => handleDelete(person)}> delete </button>\r\n    </li>\r\n  )\r\n};\r\n\r\nconst Persons = ({persons, handleDelete}) => {\r\n  console.log('Persons', persons)\r\n  return (\r\n    <ul>\r\n      {persons.map(person => <Person person={person} key={person.name} handleDelete={handleDelete}/>)}\r\n    </ul>\r\n  )\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst AddPerson = (props) => {\r\n  const {addPerson, newName, handleNameChange, newNumber, handleNumberChange} = props;\r\n  return (\r\n    <form onSubmit={addPerson} >\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <p>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </p>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nexport default AddPerson;","import React from 'react'\r\n\r\nconst Filter = ({filter, onChange}) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        filter shown: <input value={filter} onChange={onChange} />\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  };\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ErrorNotification = ({message}) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  const notificationStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst exports = { Notification, ErrorNotification };\r\nexport default exports;","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n}\r\n\r\nconst update = (newObject) => {\r\n  console.log('update: ', newObject.id, newObject);\r\n  return axios.put(baseUrl + '/' + newObject.id, newObject);\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n  console.log('deleteEntry', id);\r\n  return axios\r\n    .delete(baseUrl + '/' + id);\r\n}\r\n\r\nconst exports = { getAll, create, update, deleteEntry };\r\nexport default exports;","import React, {useState, useEffect} from 'react'\r\n\r\nimport Persons from \"./components/Persons\"\r\nimport AddPerson from \"./components/Form_addNew\"\r\nimport Filter from \"./components/Filter\"\r\nimport Notifications from \"./components/Notification\"\r\n\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  // #region States\r\n  const [persons, setPersons] = useState([]);\r\n  const [notification, setNotification] = useState(null);\r\n  const [errorNotification, setErrorNotification] = useState(null);\r\n\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('01-02-');\r\n\r\n  const [filter, setFilter] = useState('');\r\n  // #endregion States\r\n\r\n  useEffect(() => {\r\n      console.log('effect');\r\n      personService.getAll()\r\n        .then(response => {\r\n          console.log('promise fulfilled');\r\n          setPersons(response.data);\r\n        });\r\n    },\r\n    []);\r\n\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    // Find if the person already exists\r\n    if (persons.map(person => person.name.toLowerCase()).includes(newName.toLowerCase())) {\r\n      // Do we want to update the number\r\n      if (!window.confirm('\"' + newName +\r\n            '\" is already in the phonebook! Do you want to replace the old number with the new one?')) {\r\n        setNewName('')\r\n        setNewNumber('01-02-');\r\n        return;\r\n      }\r\n\r\n      const personObj = persons.find(person => person.name.toLowerCase() === newName.toLowerCase());\r\n      personObj.number = newNumber;\r\n\r\n      personService\r\n        .update(personObj)\r\n        .then(response => {\r\n          personService.getAll()\r\n            .then(response => {\r\n              setPersons(response.data);\r\n            })\r\n        })\r\n        .catch(error => {\r\n          setErrorNotification(\r\n            'Information of \"' + personObj.name + '\" has already been removed from server'\r\n          );\r\n          personService.getAll()\r\n            .then(response => {\r\n              setPersons(response.data);\r\n            });\r\n          setTimeout(() => {\r\n              setErrorNotification(null)\r\n            }, 5000);\r\n        });\r\n    }\r\n    else { // Create fully new entry\r\n      const personObj = {name: newName, number: newNumber}\r\n      personService.create(personObj)\r\n        .then(response => {\r\n          setPersons(persons.concat(response.data));\r\n          setNotification('Added ' + response.data.name);\r\n          setTimeout(() => {\r\n              setNotification(null);\r\n            }, 5000);\r\n        })\r\n    };\r\n\r\n    setNewName('');\r\n    setNewNumber('01-02-')\r\n  };\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  };\r\n\r\n  const personsToShow = filter === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()));\r\n\r\n  const handleDelete = (person) => {\r\n    console.log('handleDelete', person);\r\n    if (!window.confirm('Delete ' + person.name + '?')) {\r\n      return;\r\n    }\r\n\r\n    personService.deleteEntry(person.id)\r\n      .then(response => {\r\n        personService.getAll()\r\n          .then(response => {\r\n            setPersons(response.data);\r\n          })\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notifications.Notification message={notification} />\r\n      <Notifications.ErrorNotification message={errorNotification} />\r\n      <Filter filter={filter} onChange={handleFilterChange} />\r\n\r\n      <h2>Add new</h2>\r\n      <AddPerson addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} handleDelete={handleDelete}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App.js'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}